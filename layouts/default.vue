<template>
  <div class="relative">
    <CustomLoading />
    <LayoutHeader />
    <div class="min-h-[calc(100vh-316px)]">
      <slot />
    </div>

    <LayoutFooter />
  </div>
</template>

<script setup>
import LayoutHeader from '@/components/layout/Header.vue'
import LayoutFooter from '@/components/layout/Footer.vue'

const route = useRoute()

useHead({
  titleTemplate: (titleChunk) => {
    return titleChunk ? `${titleChunk} - æœ‰è‰¯å†Šè‚¡ä»½æœ‰é™å…¬å¸` : 'æœ‰è‰¯å†Šè‚¡ä»½æœ‰é™å…¬å¸'
  },
  meta: [{ property: 'og:title', content: ` ${route.meta.title} - æœ‰è‰¯å†Šè‚¡ä»½æœ‰é™å…¬å¸` }]
})

useSeoMeta({
  title: 'æœ‰è‰¯å†Šè‚¡ä»½æœ‰é™å…¬å¸',
  ogTitle: 'æœ‰è‰¯å†Šè‚¡ä»½æœ‰é™å…¬å¸',
  keywords:
    'æœ‰è‰¯å†Š,å…¬å¸ç™»è¨˜,å…¬å¸ç”³è«‹,å…¬å¸ç™»è¨˜å¯¦å‹™åŠæ¡ˆä¾‹è§£æž,æœ‰é™å…¬å¸,è‚¡ä»½æœ‰é™å…¬å¸,æ‡‰å‚™æ–‡ä»¶è©³æž,company registration,å¢žè³‡,ç™¼è¡Œæ–°è‚¡ï¼Œå…¬å¸ç™»è¨˜åŸºç¤Žï¼Œå…¬å¸ç™»è¨˜é€²éšŽï¼Œå·¥å•†ç™»è¨˜è«®è©¢',
  ogSiteName: 'æœ‰è‰¯å†Šè‚¡ä»½æœ‰é™å…¬å¸',
  ogType: 'website',
  ogLocale: 'zh_TW',
  description:
    'ã€Šæœ‰è‰¯å†Šã€‹è‡´åŠ›æ–¼å‡ºç‰ˆå…¬å¸ç™»è¨˜å°ˆæ›¸ï¼Œä¸¦é€éŽæœ¬ç¶²ç«™èˆ‡Facebookç²‰çµ²å°ˆé åˆ†äº«å…¬å¸æ³•åŠå…¬å¸ç™»è¨˜å¯¦å‹™çŸ¥è­˜ï¼Œå¦æä¾›å…è²»å…¬å¸ç™»è¨˜è«®è©¢æœå‹™ã€‚ã€åŠ å…¥å®˜æ–¹ LINE å¥½å‹ðŸ‘‰ https://lin.ee/f8oZLymã€‘',
  ogDescription:
    'ã€Šæœ‰è‰¯å†Šã€‹è‡´åŠ›æ–¼å‡ºç‰ˆå…¬å¸ç™»è¨˜å°ˆæ›¸ï¼Œä¸¦é€éŽæœ¬ç¶²ç«™èˆ‡Facebookç²‰çµ²å°ˆé åˆ†äº«å…¬å¸æ³•åŠå…¬å¸ç™»è¨˜å¯¦å‹™çŸ¥è­˜ï¼Œå¦æä¾›å…è²»å…¬å¸ç™»è¨˜è«®è©¢æœå‹™ã€‚ã€åŠ å…¥å®˜æ–¹ LINE å¥½å‹ðŸ‘‰ https://lin.ee/f8oZLymã€‘',
  ogImage: '/yooooobook.jpg'
})
const { initProfile } = useUserStore()

const idToken = useCookie('idToken')

if (idToken.value) {
  await useAsyncData('profile', () => initProfile())
}
</script>

<style lang="scss" scoped></style>
